<banner:meta.banner>!function(a){var b="carousel",c="."+b,d=b+"-active",e=b+"-item",f=function(a){return Math.abs(a)>4},g=function(a,c){var d=a.find("."+b+"-active"),f=d.prevAll().length+1,g=0>c,h=f+(g?1:-1),i=a.find("."+e).eq(h-1);return i.length||(i=a.find("."+e)[g?"first":"last"]()),[d,i,h-1]};a(document).on(b+".dragmove",c,function(b,c){if(f(c.deltaX)){var d=g(a(this),c.deltaX);d[0].css("left",c.deltaX+"px"),d[1].css("left",c.deltaX<0?c.w+c.deltaX+"px":-c.w+c.deltaX+"px")}}).on(b+".dragend",c,function(c,e){if(f(e.deltaX)){var h=g(a(this),e.deltaX),i=Math.abs(e.deltaX)>45;a(this).one(navigator.userAgent.indexOf("AppleWebKit")?"webkitTransitionEnd":"transitionEnd",function(){h[0].add(h[1]).css("left",""),a(this).trigger("goto."+b,[h[1],h[2]])}),i?(h[0].removeClass(d).css("left",e.deltaX>0?e.w+"px":-e.w+"px"),h[1].addClass(d).css("left",0)):(h[0].css("left",0),h[1].css("left",e.deltaX>0?-e.w+"px":e.w+"px"))}})}(jQuery);
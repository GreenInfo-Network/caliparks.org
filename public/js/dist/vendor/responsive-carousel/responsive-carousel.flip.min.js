<banner:meta.banner>!function(a){var b="carousel",c="."+b,d=b+"-active",e=b+"-top",f=b+"-item",g=function(a){return a>-1&&0>a||1>a&&a>0},h=function(a,c){var d=a.find("."+b+"-active"),e=d.prevAll().length+1,g=0>c,h=e+(g?1:-1),i=a.find("."+f).eq(h-1);return i.length||(i=a.find("."+f)[g?"first":"last"]()),[d,i]};a(document).on(b+".dragstart",c,function(){a(this).find("."+e).removeClass(e)}).on(b+".dragmove",function(b,c){if(g(c.xPercent)){var d=h(a(this),c.deltaX),f=180*c.xPercent,i=Math.abs(c.xPercent)>.5;d[0].css("-webkit-transform","rotateY("+f+"deg)"),d[1].css("-webkit-transform","rotateY("+((f>0?-180:180)+f)+"deg)"),d[i?1:0].addClass(e),d[i?0:1].removeClass(e)}}).on(b+".dragend",c,function(b,c){if(g(c.xPercent)){var f=h(a(this),c.deltaX),i=Math.abs(c.xPercent)>.5;i?(f[0].removeClass(d),f[1].addClass(d)):(f[0].addClass(d),f[1].removeClass(d)),f[0].add(f[1]).removeClass(e).css("-webkit-transform","")}})}(jQuery);
<banner:meta.banner>!function(a){var b="carousel",c=b+"-item",d=b+"-active",e=function(a){return"false"!==a.attr("data-loop")};a(document).on("beforecreate."+b,function(){a(this)[b]("_loopInit")}),a.extend(a.fn[b].prototype,{_loopInit:function(){var c=a(this),d=a.fn[b].prototype;c.on("beforegoto."+b,d._loopBefore),c.on("beforedrag."+b,d._loopBefore),c.on("drag."+b,d._loopBefore),c.on("beforecreatenav."+b,d._loopBeforeCreateNav)},_loopBefore:function(d,f){var g,h,i,j=a(d.target);if(!e(j)){if(g=f.$to.index(),h=f.$from.index(),i=j.find("."+c),0===h&&"backward"==f.direction||h==i.length-1&&"forward"==f.direction)return d.preventDefault(),void 0;g===i.length-1&&j[b]("_disableNav","next"),0===g&&j[b]("_disableNav","prev"),g>0&&g<i.length-1&&(j[b]("_enableNav","next"),j[b]("_enableNav","prev"))}},_loopBeforeCreateNav:function(f,g){var h,i,j=a(f.target);e(j)||(h=j.find("."+c),i=h.filter("."+d),i[0]===h[0]&&j[b]("_disableNav","prev",g.$nav),i.last()[0]===h.last()[0]&&j[b]("_disableNav","next",g.$nav))},_disableNav:function(b,c){(c||a(this)).find("a."+b).addClass("disabled")},_enableNav:function(b,c){(c||a(this)).find("a."+b).removeClass("disabled")}})}(jQuery);
define(["require","exports","module"],function(t,n,e){e.exports=function(){var t={};return this.on=function(n){t[n]||(t[n]=[]),t[n].push(arguments)},this.once=function(){return this.on.apply(this,[arguments[0],arguments[1],arguments[2],!0])},this.fire=function(n,e){t[n]&&(t[n].forEach(function(t){t[1]({listener:t[2],caller:e})}),t[n]=t[n].filter(function(t){return!t[3]}))},this.processTemplate=function(t,n){return Object.keys(n).forEach(function(e){t=t.split("{"+e+"}").join(n[e])}),t},this.get=function(t,n){return $?(n?$(n).find(t):$(t)).get():(n?n:document).querySelectorAll(t)},this}});